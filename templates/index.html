<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PlagiarismChecker</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="../static/css/style.css">
</head>
<body>

    <!-- LOGIN PAGE -->
    <div class="login-page" id="loginPage">
        <div class="login-card">
            <div class="logo">üîç</div>
            <h1 class="login-title">PlagiarismChecker</h1>
            <p class="login-subtitle">–°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –ø–ª–∞–≥–∏–∞—Ç</p>

            <!-- LOGIN FORM -->
            <div id="loginForm">
                <input type="text" class="input" id="loginUsername" placeholder="–õ–æ–≥–∏–Ω">
                <input type="password" class="input" id="loginPassword" placeholder="–ü–∞—Ä–æ–ª—å">
                
                <button class="btn" onclick="login()">
                    <span class="material-icons">login</span>
                    –í–æ–π—Ç–∏
                </button>
                
                <p style="text-align: center; margin-top: 16px; color: var(--text-secondary);">
                    –ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? 
                    <a href="#" onclick="showRegisterForm(); return false;" style="color: var(--primary); font-weight: 600;">
                        –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
                    </a>
                </p>
            </div>

            <!-- REGISTER FORM -->
            <div id="registerForm" style="display: none;">
                <input type="text" class="input" id="regUsername" placeholder="–õ–æ–≥–∏–Ω (–º–∏–Ω. 3 —Å–∏–º–≤–æ–ª–∞)">
                <input type="password" class="input" id="regPassword" placeholder="–ü–∞—Ä–æ–ª—å (–º–∏–Ω. 6 —Å–∏–º–≤–æ–ª–æ–≤)">
                <input type="text" class="input" id="regFullName" placeholder="–§–ò–û">
                
                <button class="btn" onclick="register()">
                    <span class="material-icons">person_add</span>
                    –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
                </button>
                
                <p style="text-align: center; margin-top: 16px; color: var(--text-secondary);">
                    –£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? 
                    <a href="#" onclick="showLoginForm(); return false;" style="color: var(--primary); font-weight: 600;">
                        –í–æ–π—Ç–∏
                    </a>
                </p>
            </div>

            <div class="info-box">
                <p><strong>‚ÑπÔ∏è –¢–µ—Å—Ç–æ–≤—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã:</strong></p>
                <p>üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: user / user123</p>
                <p>üëë –ê–¥–º–∏–Ω: admin / admin123</p>
            </div>
        </div>
    </div>

    <!-- MAIN APP -->
    <div class="main-page" id="mainPage">
        <!-- NAVBAR -->
        <nav class="navbar">
            <div class="nav-brand">
                <span class="material-icons">search</span>
                <span>PlagiarismChecker</span>
            </div>
            <div class="nav-user">
                <div class="user-chip">
                    <span class="material-icons">account_circle</span>
                    <span id="userName"></span>
                    <span class="badge" id="userRole"></span>
                </div>
                <button class="btn btn-danger btn-sm" onclick="logout()">
                    <span class="material-icons">logout</span>
                </button>
            </div>
        </nav>

        <div class="content">
            <div class="layout">
                <!-- SIDEBAR -->
                <aside class="sidebar" id="sidebarMenu">
                    <!-- –ú–µ–Ω—é –±—É–¥–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è JS –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–æ–ª–∏ -->
                </aside>

                <!-- MAIN CONTENT -->
                <main>
                    <!-- DASHBOARD -->
                    <section id="dashboard" class="section active">
                        <div class="page-header">
                            <h1>–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</h1>
                            <p>–û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã</p>
                        </div>
                        <div class="metrics-grid" id="metricsGrid"></div>
                        <div class="card">
                            <h3 class="card-title">
                                <span class="material-icons">trending_up</span>
                                –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
                            </h3>
                            <div id="dashboardStats"></div>
                        </div>
                    </section>

                    <!-- UPLOAD (USER) -->
                    <section id="upload" class="section">
                        <div class="page-header">
                            <h1>–ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç</h1>
                            <p>–î–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–π —Ç–µ–∫—Å—Ç –≤ —Å–∏—Å—Ç–µ–º—É</p>
                        </div>
                        
                        <div class="card">
                            <label class="input-label">–ù–∞–∑–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞:</label>
                            <input type="text" class="input" id="docTitle" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ö—É—Ä—Å–æ–≤–∞—è —Ä–∞–±–æ—Ç–∞">
                            
                            <label class="input-label">–¢–µ–∫—Å—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞:</label>
                            <textarea class="textarea" id="docText" placeholder="–í—Å—Ç–∞–≤—å—Ç–µ —Ç–µ–∫—Å—Ç (–º–∏–Ω–∏–º—É–º 50 —Å–∏–º–≤–æ–ª–æ–≤)..."></textarea>
                            
                            <button class="btn" onclick="uploadDocument()">
                                <span class="material-icons">upload</span>
                                –ó–∞–≥—Ä—É–∑–∏—Ç—å
                            </button>
                            <div id="uploadResult"></div>
                        </div>
                    </section>

                    <!-- MY DOCUMENTS (USER) -->
                    <section id="my-docs" class="section">
                        <div class="page-header">
                            <h1>–ú–æ–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã</h1>
                            <p>–í—Å–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –≤–∞–º–∏ —Ç–µ–∫—Å—Ç—ã</p>
                        </div>
                        <div class="card" id="myDocsContent"></div>
                    </section>

                    <!-- CHECK (ADMIN) -->
                    <section id="check" class="section">
                        <div class="page-header">
                            <h1>–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø–ª–∞–≥–∏–∞—Ç</h1>
                            <p>–í—ã–±–µ—Ä–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏</p>
                        </div>
                        <div class="card" id="checkContent"></div>
                    </section>

                    <!-- ALL DOCUMENTS (ADMIN) -->
                    <section id="database" class="section">
                        <div class="page-header">
                            <h1>–ë–∞–∑–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤</h1>
                            <p>–í—Å–µ —Ç–µ–∫—Å—Ç—ã –≤ —Å–∏—Å—Ç–µ–º–µ</p>
                        </div>
                        
                        <div class="card">
                            <div class="search-bar">
                                <span class="material-icons">search</span>
                                <input type="text" id="searchQuery" placeholder="–ü–æ–∏—Å–∫..." onkeyup="searchDocuments()">
                            </div>
                            
                            <div class="filters">
                                <input type="text" class="input" id="filterAuthor" placeholder="–ê–≤—Ç–æ—Ä">
                                <input type="number" class="input" id="filterMinLength" placeholder="–ú–∏–Ω. –¥–ª–∏–Ω–∞">
                                <button class="btn btn-sm" onclick="applyFilters()">
                                    <span class="material-icons">filter_list</span>
                                    –ü—Ä–∏–º–µ–Ω–∏—Ç—å
                                </button>
                                <button class="btn btn-sm btn-secondary" onclick="clearFilters()">
                                    –°–±—Ä–æ—Å–∏—Ç—å
                                </button>
                            </div>
                            
                            <div id="documentsTable"></div>
                        </div>
                    </section>

                    <!-- HISTORY (ADMIN) -->
                    <section id="history" class="section">
                        <div class="page-header">
                            <h1>–ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ–≤–µ—Ä–æ–∫</h1>
                            <p>–í—Å–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏</p>
                        </div>
                        <div class="card" id="historyContent"></div>
                    </section>

                    <!-- ANALYTICS (ADMIN) -->
                    <section id="analytics" class="section">
                        <div class="page-header">
                            <h1>–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞</h1>
                            <p>–†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∏ –ø–æ–∏—Å–∫ —Ü–µ–ø–æ—á–µ–∫ –ø–ª–∞–≥–∏–∞—Ç–∞ (–õ–∞–±–∞ ‚Ññ2)</p>
                        </div>
                        
                        <div class="card">
                            <h3 class="card-title">
                                <span class="material-icons">account_tree</span>
                                –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –∞–Ω–∞–ª–∏–∑
                            </h3>
                            <p style="color: var(--text-secondary); margin-bottom: 20px;">
                                –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –≥–ª—É–±–æ–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –≤—Å–µ—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
                                –∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –¥–µ—Ä–µ–≤–∞ —Å–≤—è–∑–µ–π –º–µ–∂–¥—É –ø–æ—Ö–æ–∂–∏–º–∏ —Ç–µ–∫—Å—Ç–∞–º–∏.
                            </p>
                            
                            <button class="btn" onclick="runRecursiveAnalysis()">
                                <span class="material-icons">analytics</span>
                                –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –∞–Ω–∞–ª–∏–∑
                            </button>
                            
                            <div id="recursiveResult"></div>
                        </div>
                    </section>
                </main>
            </div>
        </div>
    </div>

    <script src="../static/js/app.js"></script>
</body>
</html>